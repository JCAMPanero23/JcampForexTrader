<Window x:Class="JcampForexTrader.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Jcamp Forex Trader" 
        Height="900" Width="1400"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E"
        Foreground="White">

    <Window.Resources>
        <!-- Dark ComboBox Style - COMPLETE VERSION (FIXED) -->
        <Style TargetType="ComboBox" x:Key="DarkComboBoxStyle">
            <Setter Property="Background" Value="#2D2D30"/>
            <Setter Property="Foreground" Value="#CCCCCC"/>
            <Setter Property="BorderBrush" Value="#3E3E42"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="Padding" Value="8,5"/>

            <!-- Style for dropdown items -->
            <Setter Property="ItemContainerStyle">
                <Setter.Value>
                    <Style TargetType="ComboBoxItem">
                        <Setter Property="Background" Value="#2D2D30"/>
                        <Setter Property="Foreground" Value="#CCCCCC"/>
                        <Setter Property="Padding" Value="8,6"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ComboBoxItem">
                                    <Border Background="{TemplateBinding Background}" 
                                    BorderThickness="0" 
                                    Padding="{TemplateBinding Padding}">
                                        <ContentPresenter/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsHighlighted" Value="True">
                                            <Setter Property="Background" Value="#007ACC"/>
                                            <Setter Property="Foreground" Value="White"/>
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="#007ACC"/>
                                            <Setter Property="Foreground" Value="White"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Setter.Value>
            </Setter>

            <!-- Template for the ComboBox itself -->
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton Grid.Column="0" 
                                  Background="{TemplateBinding Background}"
                                  BorderBrush="{TemplateBinding BorderBrush}"
                                  Foreground="{TemplateBinding Foreground}"
                                  BorderThickness="1"
                                  IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                  ClickMode="Press">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="20"/>
                                    </Grid.ColumnDefinitions>
                                    <ContentPresenter Grid.Column="0" 
                                            Content="{TemplateBinding SelectionBoxItem}"
                                            ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                            Margin="8,5"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Left"/>
                                    <Path Grid.Column="1" 
                                  Data="M 0 0 L 4 4 L 8 0 Z" 
                                  Fill="#CCCCCC"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"/>
                                </Grid>
                            </ToggleButton>
                            <Popup IsOpen="{TemplateBinding IsDropDownOpen}" 
                           Placement="Bottom"
                           AllowsTransparency="True">
                                <Border Background="#2D2D30" 
                                BorderBrush="#3E3E42" 
                                BorderThickness="1"
                                MinWidth="{TemplateBinding ActualWidth}">
                                    <ScrollViewer>
                                        <ItemsPresenter/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Progress Bar Style with 90% Black Background -->
        <Style TargetType="ProgressBar" x:Key="DarkProgressBarStyle">
            <Setter Property="Height" Value="18"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="Background" Value="#1A1A1A"/>
            <Setter Property="BorderBrush" Value="#3E3E42"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid>
                            <!-- Background Border -->
                            <Border Background="#1A1A1A" 
                                    BorderBrush="#3E3E42" 
                                    BorderThickness="1" 
                                    CornerRadius="2">
                                <!-- Progress Indicator -->
                                <Border x:Name="PART_Track" CornerRadius="2">
                                    <Grid>
                                        <Rectangle x:Name="PART_Indicator" 
                                                   HorizontalAlignment="Left" 
                                                   Fill="{TemplateBinding Foreground}"/>
                                    </Grid>
                                </Border>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TextBlock" x:Key="HeaderStyle">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="10,5"/>
        </Style>

        <Style TargetType="TextBlock" x:Key="CurrencyLabelStyle">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style TargetType="TextBlock" x:Key="ValueStyle">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style TargetType="Border" x:Key="CurrencyBorderStyle">
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Background" Value="#2D2D30"/>
        </Style>
        <!-- Muted Colors (60% intensity by default) -->
        <SolidColorBrush x:Key="MutedGreen" Color="#4A6F4A"/>
        <!-- Replaces LightGreen -->
        <SolidColorBrush x:Key="MutedRed" Color="#7A4A4A"/>
        <!-- Replaces LightCoral -->
        <SolidColorBrush x:Key="MutedYellow" Color="#7A7A4A"/>
        <!-- Replaces Yellow -->
        <SolidColorBrush x:Key="MutedOrange" Color="#7A5A4A"/>
        <!-- Replaces Orange -->
        <SolidColorBrush x:Key="MutedBlue" Color="#4A5A7A"/>
        <!-- Replaces bright blue -->
        <SolidColorBrush x:Key="MutedPurple" Color="#6A4A7A"/>
        <!-- Replaces bright purple -->
        <SolidColorBrush x:Key="MutedGray" Color="#888888"/>
        <!-- Replaces LightGray -->

        <!-- Dark Mode Text Colors -->
        <SolidColorBrush x:Key="DarkText" Color="#CCCCCC"/>
        <!-- Main text -->
        <SolidColorBrush x:Key="DarkTextMuted" Color="#888888"/>
        <!-- Secondary text -->

        <!-- Dark Mode Backgrounds -->
        <SolidColorBrush x:Key="DarkBackground" Color="#1A1A1A"/>
        <!-- Darkest -->
        <SolidColorBrush x:Key="DarkPanel" Color="#252526"/>
        <!-- Panel background -->
        <SolidColorBrush x:Key="DarkBorder" Color="#3E3E42"/>
        <!-- Border color -->

        <Style x:Key="DarkDataGridStyle" TargetType="DataGrid">
            <!-- Main Grid Appearance -->
            <Setter Property="Background" Value="{StaticResource DarkBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource DarkText}"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="#2D2D30"/>
            <Setter Property="AlternatingRowBackground" Value="#252526"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#3E3E42"/>
            <Setter Property="VerticalGridLinesBrush" Value="Transparent"/>

            <!-- Grid Behavior -->
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>

            <!-- Column Header Style -->
            <Setter Property="ColumnHeaderStyle">
                <Setter.Value>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#3E3E42"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="Padding" Value="10,8"/>
                        <Setter Property="BorderBrush" Value="#555555"/>
                        <Setter Property="BorderThickness" Value="0,0,1,1"/>
                        <Setter Property="HorizontalContentAlignment" Value="Left"/>

                        <!-- Header Hover Effect -->
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#007ACC"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Setter.Value>
            </Setter>

            <!-- Row Style -->
            <Setter Property="RowStyle">
                <Setter.Value>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Background" Value="#2D2D30"/>
                        <Setter Property="Foreground" Value="#CCCCCC"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Height" Value="32"/>

                        <!-- Row Interaction Effects -->
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#3E3E42"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#007ACC"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Setter.Value>
            </Setter>

            <!-- Cell Style -->
            <Setter Property="CellStyle">
                <Setter.Value>
                    <Style TargetType="DataGridCell">
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Padding" Value="8,6"/>
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Foreground" Value="#CCCCCC"/>
                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>

                        <!-- Cell Selection -->
                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter Property="BorderBrush" Value="Transparent"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TabItem" x:Key="TabStyle">
            <Setter Property="Background" Value="#3E3E42"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="2,0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border Name="Border" Background="{TemplateBinding Background}" 
                                BorderBrush="#666" BorderThickness="1,1,1,0" 
                                CornerRadius="4,4,0,0" Margin="2,0">
                            <ContentPresenter x:Name="ContentSite" 
                                            VerticalAlignment="Center" 
                                            HorizontalAlignment="Center" 
                                            ContentSource="Header" 
                                            Margin="10,8"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#007ACC"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                <Setter Property="Foreground" Value="#CCCCCC"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#5A5A5A"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Status Panel Container Style -->
        <Style TargetType="Border" x:Key="StatusPanelStyle">
            <Setter Property="Background" Value="#2D2D30"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="5,5,5,10"/>
        </Style>

        <!-- Status Indicator (Circle) Style -->
        <Style TargetType="Ellipse" x:Key="StatusIndicatorStyle">
            <Setter Property="Width" Value="12"/>
            <Setter Property="Height" Value="12"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <!-- Status Text Style -->
        <Style TargetType="TextBlock" x:Key="StatusTextStyle">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="#CCCCCC"/>
        </Style>

        <!-- Threshold Label Style -->
        <Style TargetType="TextBlock" x:Key="ThresholdLabelStyle">
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="Foreground" Value="#888888"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,2,5,2"/>
        </Style>

        <!-- Threshold Value Style -->
        <Style TargetType="TextBlock" x:Key="ThresholdValueStyle">
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#CCCCCC"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,2,5,2"/>
        </Style>

        <!-- Threshold Progress Bar Style -->
        <Style TargetType="ProgressBar" x:Key="ThresholdProgressBarStyle">
            <Setter Property="Height" Value="14"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="Background" Value="#1A1A1A"/>
            <Setter Property="BorderBrush" Value="#3E3E42"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid>
                            <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="2"/>
                            <Border BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="2">
                                <Grid>
                                    <Rectangle Name="PART_Track"/>
                                    <Rectangle Name="PART_Indicator" 
                                     Fill="{TemplateBinding Foreground}"
                                     HorizontalAlignment="Left"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Blocking Reason Text Style -->
        <Style TargetType="TextBlock" x:Key="BlockingReasonStyle">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontStyle" Value="Italic"/>
            <Setter Property="Foreground" Value="#FF9800"/>
            <Setter Property="Margin" Value="20,5,0,2"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <!-- Needs Text Style -->
        <Style TargetType="TextBlock" x:Key="NeedsTextStyle">
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="Foreground" Value="#888888"/>
            <Setter Property="Margin" Value="20,2,0,5"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <!-- Percentage Display Style (for progress bars) -->
        <Style TargetType="TextBlock" x:Key="PercentageStyle">
            <Setter Property="FontSize" Value="9"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#CCCCCC"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="5,0,0,0"/>
        </Style>

    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#FF29638A" BorderBrush="#0E639C" BorderThickness="0,0,0,2">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="JcampForexTrader - Professional Trading Monitor"
                          Style="{StaticResource HeaderStyle}"
                          VerticalAlignment="Center" FontSize="18"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="20,0">
                    <Ellipse x:Name="ConnectionIndicator" Width="12" Height="12" 
                            Fill="Red" Margin="0,0,5,0"/>
                    <TextBlock x:Name="ConnectionStatus" Text="Disconnected" 
                              FontSize="13" VerticalAlignment="Center"/>
                </StackPanel>

                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0">
                    <TextBlock Text="Auto Trading: " FontSize="13" VerticalAlignment="Center"/>
                    <Ellipse x:Name="TradingIndicator" Width="10" Height="10"
                            Fill="Gray" Margin="5,0"/>
                </StackPanel>

                <Button Grid.Column="3" x:Name="RefreshButton" Content="Refresh" 
                       Width="80" Height="30" Margin="10,0"
                       Background="#4CAF50" Foreground="White" 
                       BorderBrush="Transparent" Click="RefreshButton_Click"/>
            </Grid>
        </Border>

        <!-- Main Tab Control -->
        <TabControl Grid.Row="1" Background="#252526" BorderBrush="#3E3E42">

            <!-- Live Dashboard Tab - REDESIGNED PROFESSIONAL TERMINAL LAYOUT -->
            <TabItem Header="LIVE DASHBOARD" Style="{StaticResource TabStyle}">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="135"/>
                        <!-- Currency Strength Ticker (+50px) -->
                        <RowDefinition Height="450"/>
                        <!-- Asset Selector + Trade Details (REDUCED) -->
                        <RowDefinition Height="*"/>
                        <!-- Account Summary (EXPANDED) -->
                    </Grid.RowDefinitions>

                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <!-- TOP ROW: CURRENCY STRENGTH TICKER (Horizontal, Compact) -->
                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <Border Grid.Row="0" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,0,6">
                        <Grid Margin="12,10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Header with Market State -->
                            <Grid Grid.Row="0" Margin="0,0,0,8">
                                <TextBlock Text="CURRENCY STRENGTH" FontSize="13" FontWeight="Bold"
                                          Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                    <TextBlock x:Name="MarketStateLabel" Text="NEUTRAL" FontSize="13" FontWeight="Bold"
                                              Foreground="#DCDCAA" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                    <Ellipse x:Name="MarketStateIndicator" Width="8" Height="8" Fill="#DCDCAA"/>
                                </StackPanel>
                            </Grid>

                            <!-- Currency Strength Horizontal Grid -->
                            <UniformGrid Grid.Row="1" x:Name="CurrencyStrengthGrid" Columns="9" Rows="1">
                                <!-- 9 currencies: USD, EUR, GBP, JPY, CHF, AUD, CAD, NZD, XAU (Gold) -->
                                <!-- Dynamically populated via C# code -->
                            </UniformGrid>
                        </Grid>
                    </Border>

                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <!-- MIDDLE ROW: ASSET SELECTOR (30%) + TRADE DETAILS PANEL (70%) -->
                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <Grid Grid.Row="1" Margin="0,0,0,6">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.3*"/>
                            <!-- Asset Selector -->
                            <ColumnDefinition Width="0.7*"/>
                            <!-- Trade Details -->
                        </Grid.ColumnDefinitions>

                        <!-- LEFT PANEL: Asset Selector (4 Cards) -->
                        <Border Grid.Column="0" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,6,0">
                            <Grid Margin="8">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="ASSETS" FontSize="13" FontWeight="Bold"
                                          Foreground="#E0E0E0" Margin="4,0,0,8"/>

                                <!-- EURUSD Card -->
                                <Border Grid.Row="1" x:Name="EURUSDBorder" Background="#2D2D30" BorderBrush="#3E3E42"
                                       BorderThickness="1" CornerRadius="3" Margin="0,0,0,4" Padding="10,8" Cursor="Hand"
                                       MouseLeftButtonDown="AssetCard_Click" Tag="EURUSD">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Grid.Row="0" Text="EURUSD" FontSize="18" FontWeight="Bold"
                                                  Foreground="White" FontFamily="Segoe UI Semibold"/>
                                        <Grid Grid.Row="1" Margin="0,4,0,0">
                                            <TextBlock x:Name="EURUSD_Best_Signal" Text="HOLD" FontSize="18"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Left"/>
                                            <TextBlock x:Name="EURUSD_Best_Conf" Text="0%" FontSize="18" FontWeight="Bold"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Right" FontFamily="Consolas"/>
                                        </Grid>
                                        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock x:Name="EURUSD_Regime" Text="UNKNOWN" FontSize="11" FontWeight="SemiBold"
                                                      Foreground="#888888" FontFamily="Consolas"/>
                                            <TextBlock x:Name="EURUSD_Dynamic" Text="" FontSize="11" FontWeight="Bold"
                                                      Foreground="#FFD700" Margin="6,0,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>

                                <!-- GBPUSD Card -->
                                <Border Grid.Row="2" x:Name="GBPUSDBorder" Background="#2D2D30" BorderBrush="#3E3E42"
                                       BorderThickness="1" CornerRadius="3" Margin="0,0,0,4" Padding="10,8" Cursor="Hand"
                                       MouseLeftButtonDown="AssetCard_Click" Tag="GBPUSD">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Grid.Row="0" Text="GBPUSD" FontSize="18" FontWeight="Bold"
                                                  Foreground="White" FontFamily="Segoe UI Semibold"/>
                                        <Grid Grid.Row="1" Margin="0,4,0,0">
                                            <TextBlock x:Name="GBPUSD_Best_Signal" Text="HOLD" FontSize="18"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Left"/>
                                            <TextBlock x:Name="GBPUSD_Best_Conf" Text="0%" FontSize="18" FontWeight="Bold"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Right" FontFamily="Consolas"/>
                                        </Grid>
                                        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock x:Name="GBPUSD_Regime" Text="UNKNOWN" FontSize="11" FontWeight="SemiBold"
                                                      Foreground="#888888" FontFamily="Consolas"/>
                                            <TextBlock x:Name="GBPUSD_Dynamic" Text="" FontSize="11" FontWeight="Bold"
                                                      Foreground="#FFD700" Margin="6,0,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>

                                <!-- AUDJPY Card -->
                                <Border Grid.Row="3" x:Name="AUDJPYBorder" Background="#2D2D30" BorderBrush="#3E3E42"
                                       BorderThickness="1" CornerRadius="3" Margin="0,0,0,4" Padding="10,8" Cursor="Hand"
                                       MouseLeftButtonDown="AssetCard_Click" Tag="AUDJPY">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Grid.Row="0" Text="AUDJPY" FontSize="18" FontWeight="Bold"
                                                  Foreground="White" FontFamily="Segoe UI Semibold"/>
                                        <Grid Grid.Row="1" Margin="0,4,0,0">
                                            <TextBlock x:Name="AUDJPY_Best_Signal" Text="HOLD" FontSize="18"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Left"/>
                                            <TextBlock x:Name="AUDJPY_Best_Conf" Text="0%" FontSize="18" FontWeight="Bold"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Right" FontFamily="Consolas"/>
                                        </Grid>
                                        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock x:Name="AUDJPY_Regime" Text="UNKNOWN" FontSize="11" FontWeight="SemiBold"
                                                      Foreground="#888888" FontFamily="Consolas"/>
                                            <TextBlock x:Name="AUDJPY_Dynamic" Text="" FontSize="11" FontWeight="Bold"
                                                      Foreground="#FFD700" Margin="6,0,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>

                                <!-- XAUUSD (Gold) Card -->
                                <Border Grid.Row="4" x:Name="XAUUSDBorder" Background="#2D2D30" BorderBrush="#3E3E42"
                                       BorderThickness="1" CornerRadius="3" Margin="0,0,0,0" Padding="10,8" Cursor="Hand"
                                       MouseLeftButtonDown="AssetCard_Click" Tag="XAUUSD">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <StackPanel Grid.Row="0" Orientation="Horizontal">
                                            <TextBlock Text="XAUUSD" FontSize="18" FontWeight="Bold"
                                                      Foreground="White" FontFamily="Segoe UI Semibold"/>
                                            <TextBlock Text="⚡" FontSize="13" Foreground="#FFD700" Margin="4,0,0,0"/>
                                        </StackPanel>
                                        <Grid Grid.Row="1" Margin="0,4,0,0">
                                            <TextBlock x:Name="XAUUSD_Best_Signal" Text="HOLD" FontSize="18"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Left"/>
                                            <TextBlock x:Name="XAUUSD_Best_Conf" Text="0%" FontSize="18" FontWeight="Bold"
                                                      Foreground="#FFFFFF" HorizontalAlignment="Right" FontFamily="Consolas"/>
                                        </Grid>
                                        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock x:Name="XAUUSD_Regime" Text="UNKNOWN" FontSize="11" FontWeight="SemiBold"
                                                      Foreground="#888888" FontFamily="Consolas"/>
                                            <TextBlock x:Name="XAUUSD_Dynamic" Text="" FontSize="11" FontWeight="Bold"
                                                      Foreground="#FFD700" Margin="6,0,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>

                        <!-- RIGHT PANEL: Trade Details -->
                        <Border Grid.Column="1" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4">
                            <Grid Margin="16">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Header -->
                                <Grid Grid.Row="0" Margin="0,0,0,12">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock x:Name="SelectedAssetLabel" Text="EURUSD" FontSize="15" FontWeight="Bold"
                                                  Foreground="White" FontFamily="Segoe UI Semibold"/>
                                        <TextBlock x:Name="SelectedStrategyLabel" Text="— TrendRider" FontSize="13"
                                                  Foreground="#FFFFFF" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <TextBlock x:Name="TradeStatusLabel" Text="ACTIVE POSITION" FontSize="13" FontWeight="Bold"
                                              Foreground="#4EC9B0" HorizontalAlignment="Right"/>
                                </Grid>

                                <!-- Trade Details Content -->
                                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                                    <Grid x:Name="TradeDetailsPanel">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- Row 1: Price Information -->
                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <!-- Entry Price -->
                                            <StackPanel Grid.Column="0" Margin="0,0,8,16">
                                                <TextBlock Text="ENTRY" FontSize="13" Foreground="#E0E0E0"/>
                                                <TextBlock x:Name="EntryPriceText" Text="1.08450" FontSize="18" FontWeight="Bold"
                                                          Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,2,0,0"/>
                                            </StackPanel>

                                            <!-- Current Price -->
                                            <StackPanel Grid.Column="1" Margin="0,0,8,16">
                                                <TextBlock Text="CURRENT" FontSize="13" Foreground="#E0E0E0"/>
                                                <TextBlock x:Name="CurrentPriceText" Text="1.08550" FontSize="18" FontWeight="Bold"
                                                          Foreground="#4EC9B0" FontFamily="Consolas" Margin="0,2,0,0"/>
                                            </StackPanel>

                                            <!-- R-Multiple -->
                                            <StackPanel Grid.Column="2" Margin="0,0,0,16">
                                                <TextBlock Text="R-MULTIPLE" FontSize="13" Foreground="#E0E0E0"/>
                                                <TextBlock x:Name="RMultipleText" Text="+2.5R" FontSize="18" FontWeight="Bold"
                                                          Foreground="#4EC9B0" FontFamily="Consolas" Margin="0,2,0,0"/>
                                            </StackPanel>
                                        </Grid>

                                        <!-- Row 2: Stop Loss & Take Profit -->
                                        <Grid Grid.Row="1" Margin="0,0,0,16">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <!-- Stop Loss -->
                                            <Border Grid.Column="0" Background="#2D2D30" CornerRadius="3" Padding="10" Margin="0,0,4,0">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>
                                                    <TextBlock Grid.Row="0" Text="STOP LOSS" FontSize="13" Foreground="#F48771"/>
                                                    <TextBlock Grid.Row="1" x:Name="StopLossText" Text="1.08350" FontSize="15" FontWeight="Bold"
                                                              Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,4,0,4"/>
                                                    <StackPanel Grid.Row="2" Orientation="Horizontal">
                                                        <TextBlock x:Name="PipsToSLText" Text="-10 pips" FontSize="13" Foreground="#F48771" FontFamily="Consolas"/>
                                                    </StackPanel>
                                                </Grid>
                                            </Border>

                                            <!-- Take Profit -->
                                            <Border Grid.Column="1" Background="#2D2D30" CornerRadius="3" Padding="10" Margin="4,0,0,0">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>
                                                    <TextBlock Grid.Row="0" Text="TAKE PROFIT" FontSize="13" Foreground="#4EC9B0"/>
                                                    <TextBlock Grid.Row="1" x:Name="TakeProfitText" Text="1.08650" FontSize="15" FontWeight="Bold"
                                                              Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,4,0,4"/>
                                                    <StackPanel Grid.Row="2" Orientation="Horizontal">
                                                        <TextBlock x:Name="PipsToTPText" Text="+10 pips" FontSize="13" Foreground="#4EC9B0" FontFamily="Consolas"/>
                                                    </StackPanel>
                                                </Grid>
                                            </Border>
                                        </Grid>

                                        <!-- Row 3: Trade Metrics -->
                                        <Grid Grid.Row="2" Margin="0,0,0,16">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" Margin="0,0,8,0">
                                                <TextBlock Text="P&amp;L" FontSize="13" Foreground="#E0E0E0"/>
                                                <TextBlock x:Name="UnrealizedPnLText" Text="+$12.50" FontSize="15" FontWeight="Bold"
                                                          Foreground="#4EC9B0" FontFamily="Consolas" Margin="0,2,0,0"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" Margin="0,0,8,0">
                                                <TextBlock Text="SIZE" FontSize="13" Foreground="#E0E0E0"/>
                                                <TextBlock x:Name="PositionSizeText" Text="0.50 lots" FontSize="15" FontWeight="Bold"
                                                          Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,2,0,0"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="2">
                                                <TextBlock Text="TIME IN TRADE" FontSize="13" Foreground="#E0E0E0"/>
                                                <TextBlock x:Name="TimeInTradeText" Text="2h 15m" FontSize="15" FontWeight="Bold"
                                                          Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,2,0,0"/>
                                            </StackPanel>
                                        </Grid>

                                        <!-- Row 4: Signal Info -->
                                        <Border Grid.Row="3" Background="#2D2D30" CornerRadius="3" Padding="12">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <TextBlock Grid.Column="0" Text="SIGNAL CONFIDENCE" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="SignalConfidenceText" Text="95%" FontSize="15" FontWeight="Bold"
                                                              Foreground="#DCDCAA" FontFamily="Consolas" Margin="0,0,8,0"/>
                                                    <ProgressBar x:Name="SignalConfidenceBar" Width="120" Height="12"
                                                                Minimum="0" Maximum="100" Value="95"
                                                                Foreground="#DCDCAA" Background="#1A1A1A" BorderBrush="#3E3E42"/>
                                                </StackPanel>
                                            </Grid>
                                        </Border>

                                        <!-- Placeholder for "No Position" State (Hidden by default) -->
                                        <Grid x:Name="NoPositionPanel" Visibility="Collapsed">
                                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                                <TextBlock Text="—" FontSize="48" Foreground="#3E3E42" HorizontalAlignment="Center"/>
                                                <TextBlock Text="NO ACTIVE POSITION" FontSize="13" Foreground="#FFFFFF"
                                                          HorizontalAlignment="Center" Margin="0,8,0,0"/>
                                                <TextBlock x:Name="LastSignalText" Text="Last Signal: BUY @ 95%" FontSize="13"
                                                          Foreground="#D0D0D0" HorizontalAlignment="Center" Margin="0,8,0,0"/>
                                            </StackPanel>
                                        </Grid>
                                    </Grid>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                    </Grid>

                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <!-- BOTTOM ROW: ACCOUNT SUMMARY (2 Rows, 7 Metric Cards) -->
                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <Border Grid.Row="2" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4">
                        <Grid Margin="12,10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="8"/>
                                <!-- Spacing -->
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- ═════════════════════ ROW 1 ═════════════════════ -->
                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.2*"/>
                                    <!-- Account Balance (wider) -->
                                    <ColumnDefinition Width="*"/>
                                    <!-- Daily Loss Limit -->
                                    <ColumnDefinition Width="*"/>
                                    <!-- Open Positions -->
                                    <ColumnDefinition Width="0.9*"/>
                                    <!-- Risk Exposure -->
                                </Grid.ColumnDefinitions>

                                <!-- Account Balance + Daily P&L -->
                                <StackPanel Grid.Column="0" VerticalAlignment="Center" Margin="0,0,16,0">
                                    <TextBlock Text="ACCOUNT BALANCE" FontSize="13" Foreground="#E0E0E0"/>
                                    <TextBlock x:Name="AccountBalanceLargeText" Text="$10,000.00" FontSize="18" FontWeight="Bold"
                                              Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,4,0,2"/>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="Today: " FontSize="13" Foreground="#E0E0E0"/>
                                        <TextBlock x:Name="DailyPnLText" Text="+$125.50" FontSize="13" FontWeight="Bold"
                                                  Foreground="#4EC9B0" FontFamily="Consolas"/>
                                        <TextBlock x:Name="DailyPnLPercent" Text=" (+1.26%)" FontSize="13" Foreground="#4EC9B0" Margin="2,0,0,0"/>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Daily Loss Limit (R-Based) -->
                                <Border Grid.Column="1" Background="#2D2D30" CornerRadius="3" Padding="10,8" Margin="0,0,8,0">
                                    <StackPanel VerticalAlignment="Center">
                                        <TextBlock Text="DAILY LOSS LIMIT" FontSize="13" Foreground="#E0E0E0"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock x:Name="DailyLossUsedText" Text="-1.2R" FontSize="15" FontWeight="Bold"
                                                      Foreground="#F48771" FontFamily="Consolas"/>
                                            <TextBlock Text=" / " FontSize="15" Foreground="#D0D0D0" Margin="2,0"/>
                                            <TextBlock x:Name="DailyLossLimitText" Text="-6R" FontSize="15" FontWeight="Bold"
                                                      Foreground="#FFFFFF" FontFamily="Consolas"/>
                                        </StackPanel>
                                        <ProgressBar x:Name="DailyLossBar" Height="5" Minimum="0" Maximum="6" Value="1.2"
                                                    Foreground="#F48771" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,0"/>
                                    </StackPanel>
                                </Border>

                                <!-- Open Positions -->
                                <Border Grid.Column="2" Background="#2D2D30" CornerRadius="3" Padding="10,8" Margin="0,0,8,0">
                                    <StackPanel VerticalAlignment="Center">
                                        <TextBlock Text="OPEN POSITIONS" FontSize="13" Foreground="#E0E0E0"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock x:Name="ActiveTradesText" Text="0" FontSize="18" FontWeight="Bold"
                                                      Foreground="#007ACC" FontFamily="Consolas"/>
                                            <TextBlock x:Name="MaxTradesText" Text=" / 3" FontSize="15" Foreground="#D0D0D0" FontFamily="Consolas" Margin="2,0,0,0"/>
                                        </StackPanel>
                                        <ProgressBar x:Name="PositionSlotsBar" Height="5" Minimum="0" Maximum="3" Value="0"
                                                    Foreground="#007ACC" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,0"/>
                                    </StackPanel>
                                </Border>

                                <!-- Total Risk Exposure -->
                                <StackPanel Grid.Column="3" VerticalAlignment="Center" Margin="0,0,0,0">
                                    <TextBlock Text="RISK EXPOSURE" FontSize="13" Foreground="#E0E0E0"/>
                                    <TextBlock x:Name="TotalRiskText" Text="3.2%" FontSize="18" FontWeight="Bold"
                                              Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,4,0,2"/>
                                    <TextBlock Text="of account" FontSize="13" Foreground="#D0D0D0"/>
                                </StackPanel>
                            </Grid>

                            <!-- ═════════════════════ ROW 2 ═════════════════════ -->
                            <Grid Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.3*"/>
                                    <!-- Per-Symbol Breakdown (wider) -->
                                    <ColumnDefinition Width="*"/>
                                    <!-- Win Rate -->
                                    <ColumnDefinition Width="1.2*"/>
                                    <!-- Trading Hours (wider) -->
                                </Grid.ColumnDefinitions>

                                <!-- Per-Symbol Breakdown -->
                                <StackPanel Grid.Column="0" VerticalAlignment="Center" Margin="0,0,16,0">
                                    <TextBlock Text="PER-SYMBOL BREAKDOWN" FontSize="13" Foreground="#E0E0E0"/>
                                    <Grid Margin="0,4,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Row="0" Grid.Column="0" Text="EUR·GBP·AUD·XAU" FontSize="13"
                                                  Foreground="#D0D0D0" FontFamily="Consolas"/>
                                        <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0,2,0,0">
                                            <TextBlock x:Name="EURUSDCount" Text="1" FontSize="13" FontWeight="Bold" Foreground="#4EC9B0" FontFamily="Consolas"/>
                                            <TextBlock Text=" · " FontSize="13" Foreground="#333333" Margin="2,0"/>
                                            <TextBlock x:Name="GBPUSDCount" Text="1" FontSize="13" FontWeight="Bold" Foreground="#4EC9B0" FontFamily="Consolas"/>
                                            <TextBlock Text=" · " FontSize="13" Foreground="#333333" Margin="2,0"/>
                                            <TextBlock x:Name="AUDJPYCount" Text="0" FontSize="13" FontWeight="Bold" Foreground="#D0D0D0" FontFamily="Consolas"/>
                                            <TextBlock Text=" · " FontSize="13" Foreground="#333333" Margin="2,0"/>
                                            <TextBlock x:Name="XAUUSDCount" Text="1" FontSize="13" FontWeight="Bold" Foreground="#4EC9B0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>

                                <!-- Win Rate + Avg R -->
                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,0,16,0">
                                    <TextBlock Text="WIN RATE (TODAY)" FontSize="13" Foreground="#E0E0E0"/>
                                    <TextBlock x:Name="WinRateText" Text="75%" FontSize="18" FontWeight="Bold"
                                              Foreground="#4EC9B0" FontFamily="Consolas" Margin="0,4,0,2"/>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="Avg: " FontSize="13" Foreground="#D0D0D0"/>
                                        <TextBlock x:Name="AvgRMultipleText" Text="1.8R" FontSize="13" FontWeight="Bold"
                                                  Foreground="#DCDCAA" FontFamily="Consolas"/>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Trading Hours / Session -->
                                <Border Grid.Column="2" Background="#2D2D30" CornerRadius="3" Padding="10,8">
                                    <StackPanel VerticalAlignment="Center">
                                        <TextBlock Text="TRADING SESSION" FontSize="13" Foreground="#E0E0E0"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,2">
                                            <Ellipse x:Name="SessionIndicator" Width="8" Height="8" Fill="#4EC9B0" Margin="0,0,6,0" VerticalAlignment="Center"/>
                                            <TextBlock x:Name="CurrentSessionText" Text="LONDON" FontSize="15" FontWeight="Bold"
                                                      Foreground="#4EC9B0" FontFamily="Consolas"/>
                                            <TextBlock x:Name="SessionTimeText" Text=" • 08:30 GMT" FontSize="13"
                                                      Foreground="#FFFFFF" FontFamily="Consolas" Margin="6,0,0,0" VerticalAlignment="Center"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Next: " FontSize="13" Foreground="#D0D0D0"/>
                                            <TextBlock x:Name="NextSessionText" Text="NY in 5h 30m" FontSize="13" FontWeight="Bold"
                                                      Foreground="#DCDCAA" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <!-- HIDDEN SIGNAL TEXTBLOCKS (For C# Compatibility) -->
                    <!-- ═══════════════════════════════════════════════════════════════════════ -->
                    <Grid x:Name="HiddenSignalElements" Visibility="Collapsed">
                        <!-- EURUSD Signals (TR, IP, BR) -->
                        <TextBlock x:Name="EURUSD_TR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="EURUSD_TR_Conf" Text="0%"/>
                        <TextBlock x:Name="EURUSD_IP_Signal" Text="HOLD"/>
                        <TextBlock x:Name="EURUSD_IP_Conf" Text="0%"/>
                        <TextBlock x:Name="EURUSD_BR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="EURUSD_BR_Conf" Text="0%"/>

                        <!-- GBPUSD Signals (TR, IP, BR) -->
                        <TextBlock x:Name="GBPUSD_TR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="GBPUSD_TR_Conf" Text="0%"/>
                        <TextBlock x:Name="GBPUSD_IP_Signal" Text="HOLD"/>
                        <TextBlock x:Name="GBPUSD_IP_Conf" Text="0%"/>
                        <TextBlock x:Name="GBPUSD_BR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="GBPUSD_BR_Conf" Text="0%"/>

                        <!-- AUDJPY Signals (TR, IP, BR) -->
                        <TextBlock x:Name="AUDJPY_TR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="AUDJPY_TR_Conf" Text="0%"/>
                        <TextBlock x:Name="AUDJPY_IP_Signal" Text="HOLD"/>
                        <TextBlock x:Name="AUDJPY_IP_Conf" Text="0%"/>
                        <TextBlock x:Name="AUDJPY_BR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="AUDJPY_BR_Conf" Text="0%"/>

                        <!-- XAUUSD Signals (TR, IP, BR) -->
                        <TextBlock x:Name="XAUUSD_TR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="XAUUSD_TR_Conf" Text="0%"/>
                        <TextBlock x:Name="XAUUSD_IP_Signal" Text="HOLD"/>
                        <TextBlock x:Name="XAUUSD_IP_Conf" Text="0%"/>
                        <TextBlock x:Name="XAUUSD_BR_Signal" Text="HOLD"/>
                        <TextBlock x:Name="XAUUSD_BR_Conf" Text="0%"/>

                        <!-- Panels (kept for compatibility) -->
                        <StackPanel x:Name="EURUSDSignalsPanel"/>
                        <StackPanel x:Name="GBPUSDSignalsPanel"/>
                        <StackPanel x:Name="AUDJPYSignalsPanel"/>
                        <StackPanel x:Name="XAUUSDSignalsPanel"/>
                    </Grid>
                </Grid>
            </TabItem>

            <!-- Active Trades & History Tab (Combined) -->
            <TabItem Header="ACTIVE TRADES &amp; HISTORY" Style="{StaticResource TabStyle}">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="805*"/>
                        <ColumnDefinition Width="569*"/>
                    </Grid.ColumnDefinitions>

                    <!-- LEFT COLUMN: Active Positions + Risk Management -->
                    <Grid Grid.Column="0" Margin="0,0,6,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="180"/>
                        </Grid.RowDefinitions>

                        <!-- Active Positions List -->
                        <Border Grid.Row="0" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,0,6">
                            <Grid Margin="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="ACTIVE POSITIONS" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,8"/>

                                <DataGrid x:Name="ActivePositionsGrid"
                                     Style="{StaticResource DarkDataGridStyle}"
                                     Margin="0,25,0,148" Grid.RowSpan="2">

                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Ticket" Binding="{Binding Ticket}" Width="80"/>
                                        <DataGridTextColumn Header="Symbol" Binding="{Binding Symbol}" Width="80"/>
                                        <DataGridTextColumn Header="Strategy" Binding="{Binding Strategy}" Width="120"/>
                                        <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="50"/>
                                        <DataGridTextColumn Header="Entry" Binding="{Binding EntryPrice}" Width="80"/>
                                        <DataGridTextColumn Header="Current" Binding="{Binding CurrentPrice}" Width="80"/>
                                        <DataGridTextColumn Header="Stop" Binding="{Binding StopLoss}" Width="80"/>
                                        <DataGridTextColumn Header="Target" Binding="{Binding TakeProfit}" Width="80"/>
                                        <DataGridTextColumn Header="Size" Binding="{Binding Size}" Width="60"/>
                                        <DataGridTextColumn Header="PnL" Binding="{Binding PnL}" Width="80"/>
                                        <DataGridTextColumn Header="R-Multiple" Binding="{Binding RMultiple}" Width="80"/>
                                        <DataGridTextColumn Header="Risk Amount" Binding="{Binding Risk}" Width="80"/>
                                        <DataGridTextColumn Header="Entry Time (UTC+2)" Binding="{Binding EntryTime}" Width="140"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Grid>
                        </Border>

                        <!-- Risk Dashboard (LEFT COLUMN, BOTTOM) -->
                        <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,390,0,0" Grid.RowSpan="2">
                            <Grid Margin="12,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="RISK MANAGEMENT" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,8"/>

                                <UniformGrid Grid.Row="1" Columns="2" Rows="2">
                                    <StackPanel Margin="0,0,8,0">
                                        <TextBlock Text="Daily Risk Used" FontSize="13" Foreground="#E0E0E0" Margin="0,0,0,4"/>
                                        <ProgressBar x:Name="DailyRiskProgressBar" Style="{StaticResource DarkProgressBarStyle}" Minimum="0" Maximum="100" Value="0" Height="6"/>
                                        <TextBlock x:Name="DailyRiskText" Text="0% / 3%" HorizontalAlignment="Center" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,4,0,0"/>
                                    </StackPanel>

                                    <StackPanel Margin="0,0,8,0">
                                        <TextBlock Text="Portfolio Risk" FontSize="13" Foreground="#E0E0E0" Margin="0,0,0,4"/>
                                        <ProgressBar x:Name="PortfolioRiskProgressBar" Style="{StaticResource DarkProgressBarStyle}" Minimum="0" Maximum="100" Value="0" Height="6"/>
                                        <TextBlock x:Name="PortfolioRiskText" Text="0% / 5%" HorizontalAlignment="Center" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,4,0,0"/>
                                    </StackPanel>

                                    <StackPanel Margin="0,0,8,0">
                                        <TextBlock Text="Position Slots" FontSize="13" Foreground="#E0E0E0" Margin="0,0,0,4"/>
                                        <ProgressBar x:Name="PositionSlotsProgressBar" Style="{StaticResource DarkProgressBarStyle}" Minimum="0" Maximum="2" Value="0" Height="6"/>
                                        <TextBlock x:Name="PositionSlotsText" Text="0 / 2" HorizontalAlignment="Center" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,4,0,0"/>
                                    </StackPanel>

                                    <StackPanel>
                                        <TextBlock Text="Margin Level" FontSize="13" Foreground="#E0E0E0" Margin="0,0,0,4"/>
                                        <TextBlock x:Name="MarginLevelText" Text="N/A" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#FFFFFF" FontFamily="Consolas" Margin="0,6,0,0"/>
                                        <TextBlock Text="(Healthy: >500%)" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </UniformGrid>
                            </Grid>
                        </Border>
                    </Grid>
                    <!-- End LEFT COLUMN -->

                    <!-- RIGHT COLUMN: Recent Trade History -->
                    <Border Grid.Column="1" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4">
                        <Grid Margin="12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Text="RECENT TRADE HISTORY" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,8"/>

                            <DataGrid Grid.Row="1" x:Name="TradeHistoryGrid"
                                     Style="{StaticResource DarkDataGridStyle}"
                                     Margin="0,0,0,0">

                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Date (UTC+2)" Binding="{Binding Date}" Width="140"/>
                                    <DataGridTextColumn Header="Symbol" Binding="{Binding Symbol}" Width="80"/>
                                    <DataGridTextColumn Header="Strategy" Binding="{Binding Strategy}" Width="120"/>
                                    <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="50"/>
                                    <DataGridTextColumn Header="Entry" Binding="{Binding EntryPrice}" Width="80"/>
                                    <DataGridTextColumn Header="Exit" Binding="{Binding ExitPrice}" Width="80"/>
                                    <DataGridTextColumn Header="Profit" Binding="{Binding PnL}" Width="80"/>
                                    <DataGridTextColumn Header="R" Binding="{Binding RMultiple}" Width="60"/>
                                    <DataGridTextColumn Header="Duration" Binding="{Binding Duration}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </Border>
                    <!-- End RIGHT COLUMN -->
                </Grid>
            </TabItem>

            <!-- R-Multiple Analysis Tab -->
            <TabItem Header="R-MULTIPLE ANALYSIS" Style="{StaticResource TabStyle}">
                <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="10">
                    <Grid Margin="12">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Text="R-MULTIPLE DISTRIBUTION" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,12"/>

                        <Canvas Grid.Row="1" x:Name="RMultipleChart" Margin="20"/>

                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,12,0,0">
                            <TextBlock Text="Total Trades: " FontSize="15" FontWeight="Bold" Foreground="#E0E0E0"/>
                            <TextBlock x:Name="TotalTradesText" Text="0" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" Margin="5,0"/>
                            <TextBlock Text=" | Average R: " FontSize="15" FontWeight="Bold" Foreground="#E0E0E0" Margin="10,0,0,0"/>
                            <TextBlock x:Name="AverageRText" Text="0.0R" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" Margin="5,0" FontFamily="Consolas"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </TabItem>

            <!-- Signal Analysis Tab -->
            <TabItem Header="SIGNAL ANALYSIS" Style="{StaticResource TabStyle}">
                <Grid Margin="10">
                    <UniformGrid Rows="2" Columns="2">
                        <!-- EURUSD Card (Top Left) -->
                        <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,6,6">
                            <Grid Margin="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Symbol Header -->
                                <Grid Grid.Row="0" Margin="0,0,0,8">
                                    <TextBlock Text="EURUSD" FontSize="18" FontWeight="Bold" Foreground="#FFFFFF" HorizontalAlignment="Left"/>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <TextBlock x:Name="EURUSD_Signal_SA" Text="HOLD" FontSize="15" FontWeight="Bold" Foreground="#DCDCAA" Margin="0,0,6,0"/>
                                        <TextBlock x:Name="EURUSD_Confidence_SA" Text="0%" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Divider -->
                                <Border Grid.Row="1" Height="1" Background="#3E3E42" Margin="0,0,0,8"/>

                                <!-- Strategy Breakdown -->
                                <StackPanel Grid.Row="2">
                                    <!-- TrendRider Strategy -->
                                    <Border Background="#2D2D30" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="3" Padding="8,6" Margin="0,0,0,6">
                                        <StackPanel>
                                            <!-- Header -->
                                            <Grid>
                                                <TextBlock Text="TrendRider" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" HorizontalAlignment="Left"/>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="EURUSD_TR_Signal_SA" Text="HOLD" FontSize="13" Foreground="#DCDCAA" Margin="0,0,4,0"/>
                                                    <TextBlock x:Name="EURUSD_TR_Conf_SA" Text="0%" FontSize="13" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                                </StackPanel>
                                            </Grid>

                                            <!-- Overall Progress Bar -->
                                            <ProgressBar x:Name="EURUSD_TR_Bar_SA" Height="4" Minimum="0" Maximum="135" Value="0"
                                                        Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,6"/>

                                            <!-- Component Breakdown -->
                                            <StackPanel Margin="0,4,0,0">
                                                <!-- EMA Alignment -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="EMA" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_TR_EMA_Bar"
                                                                Height="12" Minimum="0" Maximum="30" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_TR_EMA_Text"
                                                            Text="0/30" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- ADX Strength -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="ADX" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_TR_ADX_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_TR_ADX_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- RSI Position -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="RSI" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_TR_RSI_Bar"
                                                                Height="12" Minimum="0" Maximum="20" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_TR_RSI_Text"
                                                            Text="0/20" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- CSM Support -->
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="CSM" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_TR_CSM_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_TR_CSM_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Bonus Scores (if non-zero) -->
                                                <TextBlock x:Name="EURUSD_TR_Bonus_Text"
                                                        Text="Bonus: PA+15 VOL+10 MTF+10"
                                                        FontSize="9" Foreground="#FFAA00"
                                                        Margin="0,4,0,0" Visibility="Collapsed"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>

                                    <!-- RangeRider Strategy -->
                                    <Border Background="#2D2D30" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="3" Padding="8,6">
                                        <StackPanel>
                                            <!-- Header -->
                                            <Grid>
                                                <TextBlock Text="RangeRider" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" HorizontalAlignment="Left"/>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="EURUSD_RR_Signal_SA" Text="HOLD" FontSize="13" Foreground="#DCDCAA" Margin="0,0,4,0"/>
                                                    <TextBlock x:Name="EURUSD_RR_Conf_SA" Text="0%" FontSize="13" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                                </StackPanel>
                                            </Grid>

                                            <!-- Overall Progress Bar -->
                                            <ProgressBar x:Name="EURUSD_RR_Bar_SA" Height="4" Minimum="0" Maximum="100" Value="0"
                                                        Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,6"/>

                                            <!-- Component Breakdown -->
                                            <StackPanel Margin="0,4,0,0">
                                                <!-- Proximity -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Proximity" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_RR_Prox_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_RR_Prox_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Rejection -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Rejection" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_RR_Rej_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_RR_Rej_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- RSI -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="RSI" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_RR_RSI_Bar"
                                                                Height="12" Minimum="0" Maximum="20" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_RR_RSI_Text"
                                                            Text="0/20" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Stochastic -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Stochastic" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_RR_Stoch_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_RR_Stoch_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- CSM -->
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="CSM" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="EURUSD_RR_CSM_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="EURUSD_RR_CSM_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Bonus Scores (if non-zero) -->
                                                <TextBlock x:Name="EURUSD_RR_Bonus_Text"
                                                        Text="Bonus: VOL+10"
                                                        FontSize="9" Foreground="#FFAA00"
                                                        Margin="0,4,0,0" Visibility="Collapsed"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- GBPUSD Card (Top Right) -->
                        <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,0,6">
                            <Grid Margin="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Grid Grid.Row="0" Margin="0,0,0,8">
                                    <TextBlock Text="GBPUSD" FontSize="18" FontWeight="Bold" Foreground="#FFFFFF" HorizontalAlignment="Left"/>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <TextBlock x:Name="GBPUSD_Signal_SA" Text="HOLD" FontSize="15" FontWeight="Bold" Foreground="#DCDCAA" Margin="0,0,6,0"/>
                                        <TextBlock x:Name="GBPUSD_Confidence_SA" Text="0%" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                    </StackPanel>
                                </Grid>

                                <Border Grid.Row="1" Height="1" Background="#3E3E42" Margin="0,0,0,8"/>

                                <StackPanel Grid.Row="2">
                                    <Border Background="#2D2D30" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="3" Padding="8,6" Margin="0,0,0,6">
                                        <StackPanel>
                                            <!-- Header -->
                                            <Grid>
                                                <TextBlock Text="TrendRider" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" HorizontalAlignment="Left"/>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="GBPUSD_TR_Signal_SA" Text="HOLD" FontSize="13" Foreground="#DCDCAA" Margin="0,0,4,0"/>
                                                    <TextBlock x:Name="GBPUSD_TR_Conf_SA" Text="0%" FontSize="13" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                                </StackPanel>
                                            </Grid>

                                            <!-- Overall Progress Bar -->
                                            <ProgressBar x:Name="GBPUSD_TR_Bar_SA" Height="4" Minimum="0" Maximum="135" Value="0"
                                                        Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,6"/>

                                            <!-- Component Breakdown -->
                                            <StackPanel Margin="0,4,0,0">
                                                <!-- EMA Alignment -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="EMA" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_TR_EMA_Bar"
                                                                Height="12" Minimum="0" Maximum="30" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_TR_EMA_Text"
                                                            Text="0/30" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- ADX Strength -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="ADX" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_TR_ADX_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_TR_ADX_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- RSI Position -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="RSI" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_TR_RSI_Bar"
                                                                Height="12" Minimum="0" Maximum="20" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_TR_RSI_Text"
                                                            Text="0/20" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- CSM Support -->
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="CSM" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_TR_CSM_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_TR_CSM_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Bonus Scores (if non-zero) -->
                                                <TextBlock x:Name="GBPUSD_TR_Bonus_Text"
                                                        Text="Bonus: PA+15 VOL+10 MTF+10"
                                                        FontSize="9" Foreground="#FFAA00"
                                                        Margin="0,4,0,0" Visibility="Collapsed"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#2D2D30" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="3" Padding="8,6">
                                        <StackPanel>
                                            <!-- Header -->
                                            <Grid>
                                                <TextBlock Text="RangeRider" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" HorizontalAlignment="Left"/>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="GBPUSD_RR_Signal_SA" Text="HOLD" FontSize="13" Foreground="#DCDCAA" Margin="0,0,4,0"/>
                                                    <TextBlock x:Name="GBPUSD_RR_Conf_SA" Text="0%" FontSize="13" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                                </StackPanel>
                                            </Grid>

                                            <!-- Overall Progress Bar -->
                                            <ProgressBar x:Name="GBPUSD_RR_Bar_SA" Height="4" Minimum="0" Maximum="100" Value="0"
                                                        Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,6"/>

                                            <!-- Component Breakdown -->
                                            <StackPanel Margin="0,4,0,0">
                                                <!-- Proximity -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Proximity" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_RR_Prox_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_RR_Prox_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Rejection -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Rejection" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_RR_Rej_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_RR_Rej_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- RSI -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="RSI" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_RR_RSI_Bar"
                                                                Height="12" Minimum="0" Maximum="20" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_RR_RSI_Text"
                                                            Text="0/20" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Stochastic -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Stochastic" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_RR_Stoch_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_RR_Stoch_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- CSM -->
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="CSM" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="GBPUSD_RR_CSM_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="GBPUSD_RR_CSM_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Bonus Scores (if non-zero) -->
                                                <TextBlock x:Name="GBPUSD_RR_Bonus_Text"
                                                        Text="Bonus: VOL+10"
                                                        FontSize="9" Foreground="#FFAA00"
                                                        Margin="0,4,0,0" Visibility="Collapsed"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- AUDJPY Card (Bottom Left) -->
                        <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,6,0">
                            <Grid Margin="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Grid Grid.Row="0" Margin="0,0,0,8">
                                    <TextBlock Text="AUDJPY" FontSize="18" FontWeight="Bold" Foreground="#FFFFFF" HorizontalAlignment="Left"/>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <TextBlock x:Name="AUDJPY_Signal_SA" Text="HOLD" FontSize="15" FontWeight="Bold" Foreground="#DCDCAA" Margin="0,0,6,0"/>
                                        <TextBlock x:Name="AUDJPY_Confidence_SA" Text="0%" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                    </StackPanel>
                                </Grid>

                                <Border Grid.Row="1" Height="1" Background="#3E3E42" Margin="0,0,0,8"/>

                                <StackPanel Grid.Row="2">
                                    <Border Background="#2D2D30" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="3" Padding="8,6" Margin="0,0,0,6">
                                        <StackPanel>
                                            <!-- Header -->
                                            <Grid>
                                                <TextBlock Text="TrendRider" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" HorizontalAlignment="Left"/>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="AUDJPY_TR_Signal_SA" Text="HOLD" FontSize="13" Foreground="#DCDCAA" Margin="0,0,4,0"/>
                                                    <TextBlock x:Name="AUDJPY_TR_Conf_SA" Text="0%" FontSize="13" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                                </StackPanel>
                                            </Grid>

                                            <!-- Overall Progress Bar -->
                                            <ProgressBar x:Name="AUDJPY_TR_Bar_SA" Height="4" Minimum="0" Maximum="135" Value="0"
                                                        Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,6"/>

                                            <!-- Component Breakdown -->
                                            <StackPanel Margin="0,4,0,0">
                                                <!-- EMA Alignment -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="EMA" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_TR_EMA_Bar"
                                                                Height="12" Minimum="0" Maximum="30" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_TR_EMA_Text"
                                                            Text="0/30" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- ADX Strength -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="ADX" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_TR_ADX_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_TR_ADX_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- RSI Position -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="RSI" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_TR_RSI_Bar"
                                                                Height="12" Minimum="0" Maximum="20" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_TR_RSI_Text"
                                                            Text="0/20" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- CSM Support -->
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="CSM" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_TR_CSM_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#4EC9B0" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_TR_CSM_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Bonus Scores (if non-zero) -->
                                                <TextBlock x:Name="AUDJPY_TR_Bonus_Text"
                                                        Text="Bonus: PA+15 VOL+10 MTF+10"
                                                        FontSize="9" Foreground="#FFAA00"
                                                        Margin="0,4,0,0" Visibility="Collapsed"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#2D2D30" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="3" Padding="8,6">
                                        <StackPanel>
                                            <!-- Header -->
                                            <Grid>
                                                <TextBlock Text="RangeRider" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" HorizontalAlignment="Left"/>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="AUDJPY_RR_Signal_SA" Text="HOLD" FontSize="13" Foreground="#DCDCAA" Margin="0,0,4,0"/>
                                                    <TextBlock x:Name="AUDJPY_RR_Conf_SA" Text="0%" FontSize="13" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                                </StackPanel>
                                            </Grid>

                                            <!-- Overall Progress Bar -->
                                            <ProgressBar x:Name="AUDJPY_RR_Bar_SA" Height="4" Minimum="0" Maximum="100" Value="0"
                                                        Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,6"/>

                                            <!-- Component Breakdown -->
                                            <StackPanel Margin="0,4,0,0">
                                                <!-- Proximity -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Proximity" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_RR_Prox_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_RR_Prox_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Rejection -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Rejection" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_RR_Rej_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_RR_Rej_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- RSI -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="RSI" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_RR_RSI_Bar"
                                                                Height="12" Minimum="0" Maximum="20" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_RR_RSI_Text"
                                                            Text="0/20" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Stochastic -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="Stochastic" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_RR_Stoch_Bar"
                                                                Height="12" Minimum="0" Maximum="15" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_RR_Stoch_Text"
                                                            Text="0/15" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- CSM -->
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="CSM" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="AUDJPY_RR_CSM_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#CE9178" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="AUDJPY_RR_CSM_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Bonus Scores (if non-zero) -->
                                                <TextBlock x:Name="AUDJPY_RR_Bonus_Text"
                                                        Text="Bonus: VOL+10"
                                                        FontSize="9" Foreground="#FFAA00"
                                                        Margin="0,4,0,0" Visibility="Collapsed"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- XAUUSD Card (Bottom Right) - TrendRider Only -->
                        <Border Background="#252526" BorderBrush="#FFD700" BorderThickness="2" CornerRadius="4">
                            <Grid Margin="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Grid Grid.Row="0" Margin="0,0,0,8">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock Text="XAUUSD" FontSize="18" FontWeight="Bold" Foreground="#FFD700"/>
                                        <TextBlock Text=" (Gold)" FontSize="13" Foreground="#E0E0E0" Margin="6,0,0,0" VerticalAlignment="Bottom"/>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <TextBlock x:Name="XAUUSD_Signal_SA" Text="HOLD" FontSize="15" FontWeight="Bold" Foreground="#DCDCAA" Margin="0,0,6,0"/>
                                        <TextBlock x:Name="XAUUSD_Confidence_SA" Text="0%" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                    </StackPanel>
                                </Grid>

                                <Border Grid.Row="1" Height="1" Background="#3E3E42" Margin="0,0,0,8"/>

                                <StackPanel Grid.Row="2">
                                    <Border Background="#2D2D30" BorderBrush="#FFD700" BorderThickness="1" CornerRadius="3" Padding="8,6">
                                        <StackPanel>
                                            <!-- Header -->
                                            <Grid>
                                                <TextBlock Text="TrendRider" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" HorizontalAlignment="Left"/>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock x:Name="XAUUSD_TR_Signal_SA" Text="HOLD" FontSize="13" Foreground="#DCDCAA" Margin="0,0,4,0"/>
                                                    <TextBlock x:Name="XAUUSD_TR_Conf_SA" Text="0%" FontSize="13" FontWeight="Bold" Foreground="#FFFFFF" FontFamily="Consolas"/>
                                                </StackPanel>
                                            </Grid>

                                            <!-- Overall Progress Bar -->
                                            <ProgressBar x:Name="XAUUSD_TR_Bar_SA" Height="4" Minimum="0" Maximum="135" Value="0"
                                                        Foreground="#FFD700" Background="#1A1A1A" BorderThickness="0" Margin="0,4,0,6"/>

                                            <!-- Component Breakdown -->
                                            <StackPanel Margin="0,4,0,0">
                                                <!-- EMA Alignment -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="EMA" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="XAUUSD_TR_EMA_Bar"
                                                                Height="12" Minimum="0" Maximum="30" Value="0"
                                                                Foreground="#FFD700" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="XAUUSD_TR_EMA_Text"
                                                            Text="0/30" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- ADX Strength -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="ADX" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="XAUUSD_TR_ADX_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#FFD700" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="XAUUSD_TR_ADX_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- RSI Position -->
                                                <Grid Margin="0,0,0,3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="RSI" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="XAUUSD_TR_RSI_Bar"
                                                                Height="12" Minimum="0" Maximum="20" Value="0"
                                                                Foreground="#FFD700" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="XAUUSD_TR_RSI_Text"
                                                            Text="0/20" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- CSM Support -->
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="40"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="CSM" FontSize="9" Foreground="#E0E0E0" VerticalAlignment="Center"/>
                                                    <ProgressBar Grid.Column="1" x:Name="XAUUSD_TR_CSM_Bar"
                                                                Height="12" Minimum="0" Maximum="25" Value="0"
                                                                Foreground="#FFD700" Background="#1A1A1A" BorderThickness="0"/>
                                                    <TextBlock Grid.Column="2" x:Name="XAUUSD_TR_CSM_Text"
                                                            Text="0/25" FontSize="9" Foreground="#FFFFFF"
                                                            FontFamily="Consolas" TextAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>

                                                <!-- Bonus Scores (if non-zero) -->
                                                <TextBlock x:Name="XAUUSD_TR_Bonus_Text"
                                                        Text="Bonus: PA+15 VOL+10 MTF+10"
                                                        FontSize="9" Foreground="#FFAA00"
                                                        Margin="0,4,0,0" Visibility="Collapsed"/>

                                                <!-- Note about Gold -->
                                                <TextBlock Text="Gold trends only - no range trading" FontSize="9" Foreground="#AAAAAA" FontStyle="Italic" Margin="0,6,0,0" TextWrapping="Wrap"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </UniformGrid>
                </Grid>
            </TabItem>

            <!-- Performance Analytics Tab -->
            <TabItem Header="PERFORMANCE" Style="{StaticResource TabStyle}">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="200"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Key Performance Metrics -->
                    <!-- UPDATED: Dark mode border -->
                    <Border Grid.Row="0" Background="{StaticResource DarkBackground}" 
                            BorderBrush="{StaticResource DarkBorder}" 
                            BorderThickness="1" CornerRadius="8" Margin="5">

                        <Grid Margin="15">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Text="Key Performance Metrics" Style="{StaticResource HeaderStyle}"/>

                            <Grid Grid.Row="1" Margin="0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                    <TextBlock Text="Total Return" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="TotalReturnText" Text="0%" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="Since Start" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                    <TextBlock Text="Win Rate" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="WinRateDetailText" Text="0%" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="WinLossText" Text="0W / 0L" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                </StackPanel>

                                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                                    <TextBlock Text="Profit Factor" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="ProfitFactorText" Text="0.00" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="Gross Win/Loss" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                </StackPanel>

                                <StackPanel Grid.Column="3" HorizontalAlignment="Center">
                                    <TextBlock Text="Max Drawdown" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="MaxDrawdownText" Text="0%" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="Peak to Trough" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                </StackPanel>

                                <StackPanel Grid.Column="4" HorizontalAlignment="Center">
                                    <TextBlock Text="Sharpe Ratio" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="SharpeRatioText" Text="0.00" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="Risk-Adj Return" FontSize="13" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Performance Breakdown (2 Columns: Strategy | Pair) -->
                    <Grid Grid.Row="1" Margin="5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- LEFT: Strategy Performance -->
                        <Border Grid.Column="0" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="8" Margin="0,0,4,0">
                            <Grid Margin="15">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="Strategy Performance" Style="{StaticResource HeaderStyle}"/>

                                <DataGrid Grid.Row="1" x:Name="StrategyPerformanceGrid"
                                         Style="{StaticResource DarkDataGridStyle}"
                                         Margin="0,10">

                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Strategy" Binding="{Binding Strategy}" Width="120"/>
                                        <DataGridTextColumn Header="Trades" Binding="{Binding TotalTrades}" Width="60"/>
                                        <DataGridTextColumn Header="Win%" Binding="{Binding WinRate}" Width="60"/>
                                        <DataGridTextColumn Header="Avg R" Binding="{Binding AvgR}" Width="60"/>
                                        <DataGridTextColumn Header="Profit" Binding="{Binding TotalPnL}" Width="80"/>
                                        <DataGridTextColumn Header="PF" Binding="{Binding ProfitFactor}" Width="60"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Grid>
                        </Border>

                        <!-- RIGHT: Pair Performance -->
                        <Border Grid.Column="1" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="8" Margin="4,0,0,0">
                            <Grid Margin="15">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="Pair Performance" Style="{StaticResource HeaderStyle}"/>

                                <DataGrid Grid.Row="1" x:Name="PairPerformanceGrid"
                                         Style="{StaticResource DarkDataGridStyle}"
                                         Margin="0,10">

                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Pair" Binding="{Binding Pair}" Width="120"/>
                                        <DataGridTextColumn Header="Trades" Binding="{Binding TotalTrades}" Width="60"/>
                                        <DataGridTextColumn Header="Win%" Binding="{Binding WinRate}" Width="60"/>
                                        <DataGridTextColumn Header="Avg R" Binding="{Binding AvgR}" Width="60"/>
                                        <DataGridTextColumn Header="Profit" Binding="{Binding TotalPnL}" Width="80"/>
                                        <DataGridTextColumn Header="PF" Binding="{Binding ProfitFactor}" Width="60"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </TabItem>

            <!-- System Settings Tab -->
            <TabItem Header="SETTINGS" Style="{StaticResource TabStyle}">
                <ScrollViewer>
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- LEFT COLUMN -->
                        <StackPanel Grid.Column="0" Margin="0,0,6,0">
                            <!-- File Monitoring Settings -->
                            <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,0,8">
                                <Grid Margin="12">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Text="FILE MONITORING" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,12"/>

                                    <Grid Grid.Row="1" Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="MT5 Data Path:" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox Grid.Column="1" x:Name="MT5PathTextBox" FontSize="13" Margin="0,0,4,0"/>
                                        <Button Grid.Column="2" Content="Validate" Width="70" FontSize="13" Click="BrowseButton_Click"/>
                                    </Grid>

                                    <Grid Grid.Row="2" Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Update Interval (seconds):" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox Grid.Column="1" x:Name="UpdateIntervalTextBox" Text="5" FontSize="13"/>
                                    </Grid>

                                    <StackPanel Grid.Row="3" Orientation="Vertical">
                                        <CheckBox x:Name="EnableAutoRefreshCheckBox" Content="Enable Auto Refresh" IsChecked="True" FontSize="13" Foreground="#D0D0D0" Margin="0,0,0,4"/>
                                        <CheckBox x:Name="EnableSoundAlertsCheckBox" Content="Enable Sound Alerts" IsChecked="True" FontSize="13" Foreground="#D0D0D0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Alert Settings -->
                            <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,0,8">
                                <Grid Margin="12">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Text="ALERT SETTINGS" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,12"/>

                                    <Grid Grid.Row="1" Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="High Confidence Threshold:" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox Grid.Column="1" x:Name="HighConfidenceThresholdTextBox" Text="85" FontSize="13"/>
                                    </Grid>

                                    <Grid Grid.Row="2" Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Risk Alert Threshold (%):" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox Grid.Column="1" x:Name="RiskAlertThresholdTextBox" Text="2.5" FontSize="13"/>
                                    </Grid>

                                    <StackPanel Grid.Row="3" Orientation="Vertical">
                                        <CheckBox x:Name="EnableDesktopAlertsCheckBox" Content="Desktop Notifications" IsChecked="True" FontSize="13" Foreground="#D0D0D0" Margin="0,0,0,4"/>
                                        <CheckBox x:Name="EnableEmailAlertsCheckBox" Content="Email Alerts" IsChecked="False" FontSize="13" Foreground="#D0D0D0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Display Settings -->
                            <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4">
                                <Grid Margin="12">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Text="DISPLAY SETTINGS" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,12"/>

                                    <Grid Grid.Row="1" Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Theme:" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <ComboBox Grid.Column="1" x:Name="ThemeComboBox" FontSize="13">
                                            <ComboBoxItem Content="Dark" IsSelected="True"/>
                                            <ComboBoxItem Content="Light"/>
                                        </ComboBox>
                                    </Grid>

                                    <StackPanel Grid.Row="2" Orientation="Vertical">
                                        <CheckBox x:Name="ShowTooltipsCheckBox" Content="Show Tooltips" IsChecked="True" FontSize="13" Foreground="#D0D0D0" Margin="0,0,0,4"/>
                                        <CheckBox x:Name="CompactViewCheckBox" Content="Compact View" IsChecked="False" FontSize="13" Foreground="#D0D0D0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </StackPanel>

                        <!-- RIGHT COLUMN -->
                        <StackPanel Grid.Column="1">
                            <!-- Color Scheme Settings -->
                            <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,0,8">
                                <Grid Margin="12">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Text="COLOR SCHEME" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,12"/>

                                    <Grid Grid.Row="1" Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Color Intensity:" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <ComboBox Grid.Column="1" x:Name="ColorSchemeComboBox" FontSize="13">
                                            <ComboBoxItem Content="High Contrast (Current)" IsSelected="True"/>
                                            <ComboBoxItem Content="Muted"/>
                                            <ComboBoxItem Content="Standard"/>
                                        </ComboBox>
                                    </Grid>

                                    <Grid Grid.Row="2">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Row="0" Text="Color Preview:" FontSize="13" Foreground="#E0E0E0" Margin="0,0,0,6"/>

                                        <StackPanel Grid.Row="1" Orientation="Horizontal">
                                            <Border Width="40" Height="40" Background="#4EC9B0" CornerRadius="3" Margin="0,0,4,0">
                                                <TextBlock Text="BUY" FontSize="13" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <Border Width="40" Height="40" Background="#F48771" CornerRadius="3" Margin="0,0,4,0">
                                                <TextBlock Text="SELL" FontSize="13" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <Border Width="40" Height="40" Background="#DCDCAA" CornerRadius="3" Margin="0,0,4,0">
                                                <TextBlock Text="HOLD" FontSize="13" FontWeight="Bold" Foreground="#1E1E1E" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <Border Width="40" Height="40" Background="#FFD700" CornerRadius="3">
                                                <TextBlock Text="GOLD" FontSize="13" FontWeight="Bold" Foreground="#1E1E1E" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                        </StackPanel>
                                    </Grid>
                                </Grid>
                            </Border>

                            <!-- Risk Management Settings -->
                            <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4" Margin="0,0,0,8">
                                <Grid Margin="12">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Text="RISK MANAGEMENT" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,12"/>

                                    <Grid Grid.Row="1" Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Max Daily Loss (R):" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox Grid.Column="1" Text="6" FontSize="15" FontWeight="Bold" FontFamily="Consolas"/>
                                    </Grid>

                                    <Grid Grid.Row="2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="Max Positions:" FontSize="13" Foreground="#E0E0E0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox Grid.Column="1" Text="12" FontSize="15" FontWeight="Bold" FontFamily="Consolas"/>
                                    </Grid>
                                </Grid>
                            </Border>

                            <!-- Action Buttons -->
                            <Border Background="#252526" BorderBrush="#3E3E42" BorderThickness="1" CornerRadius="4">
                                <Grid Margin="12">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Text="ACTIONS" FontSize="13" FontWeight="Bold" Foreground="#E0E0E0" Margin="0,0,0,12"/>

                                    <StackPanel Grid.Row="1" Orientation="Vertical">
                                        <Button Content="Save Settings" Height="35" Margin="0,0,0,6" FontSize="15" FontWeight="Bold"
                                               Background="#4EC9B0" Foreground="White" BorderBrush="Transparent"
                                               Click="SaveSettingsButton_Click"/>
                                        <Button Content="Reset Defaults" Height="35" Margin="0,0,0,6" FontSize="15" FontWeight="Bold"
                                               Background="#F48771" Foreground="White" BorderBrush="Transparent"
                                               Click="ResetSettingsButton_Click"/>
                                        <Button Content="Export Data" Height="35" FontSize="15" FontWeight="Bold"
                                               Background="#007ACC" Foreground="White" BorderBrush="Transparent"
                                               Click="ExportDataButton_Click"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="#FF43214C" BorderBrush="#FF392352" BorderThickness="0,1,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="StatusText" Grid.Column="0"
                          Text="Ready - Monitoring ACSTS trading system..."
                          VerticalAlignment="Center" Margin="10,0" FontSize="13"/>

                <TextBlock Grid.Column="1"
                          Text="Last Update:"
                          VerticalAlignment="Center" Margin="10,0" FontSize="13"/>

                <TextBlock x:Name="LastUpdateStatusText" Grid.Column="2"
                          Text="Never"
                          VerticalAlignment="Center" Margin="5,0" FontSize="13" FontWeight="Bold"/>

                <Button Grid.Column="3" x:Name="BacktestButton" Content="Backtest"
                       Width="80" Height="25" Margin="10,0"
                       Background="#007ACC" Foreground="White"
                       BorderBrush="Transparent" Click="BacktestButton_Click"/>

                <Button Grid.Column="4" x:Name="AboutButton" Content="About"
                       Width="60" Height="25" Margin="10,0"
                       Background="#6A5ACD" Foreground="White"
                       BorderBrush="Transparent" Click="AboutButton_Click"/>
            </Grid>
        </Border>
    </Grid>
</Window>